SET @@global.rocksdb_flush_log_at_trx_commit = 2;
SET @@session.rocksdb_write_disable_wal=ON;
SET @@session.rocksdb_write_disable_wal=OFF;
SET @@global.rocksdb_flush_log_at_trx_commit = 1;
CREATE TABLE tt_12 (ipkey INT AUTO_INCREMENT, i1 INT, d2 DOUBLE,
PRIMARY KEY(ipkey), INDEX tt_12i0(d2, i1 ASC, ipkey),
INDEX tt_12i1(ipkey, i1, d2))
ROW_FORMAT=DYNAMIC ENGINE=RocksDB;
REPLACE INTO tt_12  (ipkey, i1, d2) VALUES(2097, 6145, 0.00000);
call mtr.add_suppression("Sync writes has to enable WAL.");
ALTER TABLE tt_12 MODIFY COLUMN  ipkey INT(14), LOCK=DEFAULT, ALGORITHM=DEFAULT;
Warnings:
Warning	1681	Integer display width is deprecated and will be removed in a future release.
Pattern found.
DROP TABLE tt_12;
